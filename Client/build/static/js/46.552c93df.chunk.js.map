{"version":3,"sources":["views/contracts/UpdateContract.js"],"names":["UpdateContract","match","history","useHistory","useState","contractsData","setContractsData","contractStatus","setContractStatus","useEffect","Axios","get","then","response","data","contract_date","toString","split","item","find","contract_id","params","id","itemDetails","className","ContractData","ContractID","Contracter","contracter","ContractDescription","contract_description","ContractStatus","contract_status","lg","onSubmit","put","push","type","defaultValue","name","autoComplete","onChange","e","target","value","console","log"],"mappings":"0PA2GeA,UA5FQ,SAAC,GAAa,IAAZC,EAAW,EAAXA,MAErBC,EAAUC,cAEd,EAA0CC,mBAAS,IAAnD,mBAAOC,EAAP,KAAsBC,EAAtB,KACA,EAA4CF,mBAAS,IAArD,mBAAOG,EAAP,KAAuBC,EAAvB,KAEAC,qBAAU,WAKRC,IAAMC,IAAI,0CAA0CC,MAAK,SAACC,GACxDA,EAASC,KAAK,GAAGC,cAAgBF,EAASC,KAAK,GAAGC,cAAcC,WAAWC,MAAM,KAAK,GACtFX,EAAiBO,EAASC,WAG3B,IAEH,IAAMI,EAAOb,EAAcc,MAAM,SAAAD,GAAI,OAAIA,EAAKE,YAAYJ,aAAef,EAAMoB,OAAOC,MAChFC,EAAcL,GAClB,CAAC,CAAC,KAAO,iCAAM,cAAC,IAAD,CAAOM,UAAU,eAAvB,kBAEHC,EAAe,CACnBC,WAAYH,EAAYH,YACxBO,WAAYJ,EAAYK,WACxBC,oBAAqBN,EAAYO,qBACjCC,eAAgBR,EAAYS,iBA2B9B,OACE,cAAC,KAAD,UACE,cAAC,IAAD,CAAMC,GAAI,EAAV,SACE,eAAC,IAAD,WACE,eAAC,IAAD,2BACgBV,EAAYH,eAE5B,cAAC,IAAD,UACA,eAAC,IAAD,CAAOc,SAhBI,WAIjBxB,IAAMyB,IAAI,2CAA4CV,GACtDvB,EAAQkC,KAAR,qBAA2BlB,EAAKE,eAW1B,UACQ,yDAEA,cAAC,IAAD,CAAaI,UAAU,OAAvB,SACE,cAAC,IAAD,CAAQa,KAAK,OAAOC,aAAcf,EAAYK,WAAYW,KAAK,aAAcC,aAAa,aAAaC,SApC5F,SAACC,GAC5BjB,EAAaE,WAAae,EAAEC,OAAOC,WAsCrB,cAAC,IAAD,CAAapB,UAAU,OAAvB,SACE,cAAC,IAAD,CAAQa,KAAK,OAAOC,aAAcf,EAAYO,qBAAsBS,KAAK,cAAcE,SA5BlF,SAACC,GACtBjB,EAAaI,oBAAsBa,EAAEC,OAAOC,WA8B9B,cAAC,IAAD,CAAapB,UAAU,OAAvB,SACI,eAAC,KAAD,CAASoB,MAAOrB,EAAYS,gBAAiBS,SAxCxC,SAACC,GACxBnB,EAAYS,gBAAkBU,EAAEC,OAAOC,MACvCpC,EAAkBkC,EAAEC,OAAOC,OAC3BC,QAAQC,IAAIvC,GACZkB,EAAaM,eAAiBxB,EAC9BsC,QAAQC,IAAIrB,EAAaM,iBAmCP,UACI,wBAAQa,MAAM,YAAd,uBACA,wBAAQA,MAAM,UAAd,qBACA,wBAAQA,MAAM,WAAd,2BAIR,qBAAKpB,UAAU,gCAAf,SACA,wBAAQa,KAAK,SAASb,UAAU,wBAAhC","file":"static/js/46.552c93df.chunk.js","sourcesContent":["import React, { useState, useEffect} from 'react';\r\nimport Axios from 'axios'\r\nimport { useHistory } from 'react-router-dom';\r\nimport {\r\n    CCard,\r\n    CCardBody,\r\n    CForm,\r\n    CInput,\r\n    CInputGroup,\r\n    CSelect\r\n  } from '@coreui/react'\r\n\r\nimport { CCardHeader, CCol, CRow } from '@coreui/react'\r\nimport CIcon from '@coreui/icons-react'\r\n\r\nconst UpdateContract = ({match}) => {\r\n\r\nlet history = useHistory();\r\n\r\nconst [contractsData, setContractsData] = useState([]);\r\nconst [contractStatus, setContractStatus] = useState('');\r\n\r\nuseEffect(() => {\r\n  // Axios.get(\"https://ims-backend.herokuapp.com/api/get\").then((response) => {\r\n  //   setInventoryData(response.data)\r\n  // })\r\n\r\n  Axios.get(\"http://localhost:3001/api/getcontracts\").then((response) => {\r\n    response.data[0].contract_date = response.data[0].contract_date.toString().split('T')[0]\r\n    setContractsData(response.data)\r\n  })\r\n\r\n}, [])\r\n\r\nconst item = contractsData.find( item => item.contract_id.toString() === match.params.id)\r\nconst itemDetails = item ? item : \r\n  [['id', (<span><CIcon className=\"text-muted\" /> Not found</span>)]];\r\n\r\n  const ContractData = {\r\n    ContractID: itemDetails.contract_id,\r\n    Contracter: itemDetails.contracter,\r\n    ContractDescription: itemDetails.contract_description,\r\n    ContractStatus: itemDetails.contract_status\r\n  }\r\n\r\nconst handleContracterChange = (e) => {\r\n    ContractData.Contracter = e.target.value\r\n}\r\n\r\nconst handleStatusChange = (e) => {\r\n    itemDetails.contract_status = e.target.value\r\n    setContractStatus(e.target.value)\r\n    console.log(contractStatus)\r\n    ContractData.ContractStatus = contractStatus\r\n    console.log(ContractData.ContractStatus)\r\n}\r\n\r\nconst handleDescChange = (e) => {\r\n    ContractData.ContractDescription = e.target.value\r\n}\r\n\r\nconst handleUpdate = () => {\r\n    // Axios.put(\"https://ims-backend.herokuapp.com/api/update\", ItemData)\r\n    // history.push(`/inventorydata/${item.item_id}`)\r\n\r\n    Axios.put(\"http://localhost:3001/api/updatecontract\", ContractData)\r\n    history.push(`/contracts/${item.contract_id}`)\r\n  }\r\n\r\n  return (\r\n    <CRow>\r\n      <CCol lg={6}>\r\n        <CCard>\r\n          <CCardHeader>\r\n            Contract ID: {itemDetails.contract_id}\r\n          </CCardHeader>\r\n          <CCardBody>\r\n          <CForm onSubmit={handleUpdate}>\r\n                  <h1>Update Contract Details</h1>\r\n\r\n                  <CInputGroup className=\"mb-3\">\r\n                    <CInput type=\"text\" defaultValue={itemDetails.contracter} name=\"contracter\"  autoComplete=\"contracter\" onChange={handleContracterChange}/>\r\n                  </CInputGroup>\r\n\r\n                  <CInputGroup className=\"mb-3\">\r\n                    <CInput type=\"text\" defaultValue={itemDetails.contract_description} name=\"description\" onChange={handleDescChange}/>\r\n                  </CInputGroup>\r\n\r\n                  <CInputGroup className=\"mb-4\">\r\n                      <CSelect value={itemDetails.contract_status} onChange={handleStatusChange}>\r\n                          <option value=\"Completed\">Completed</option>\r\n                          <option value=\"Pending\">Pending</option>\r\n                          <option value=\"Shipping\">Shipping</option>\r\n                      </CSelect>\r\n                    {/* <CInput type=\"text\" defaultValue={itemDetails.contract_status} name=\"contractStatus\"  autoComplete=\"ContractStatus\" onChange={handleStatusChange}/> */}\r\n                  </CInputGroup>\r\n                  <div className=\"d-flex justify-content-center\">\r\n                  <button type=\"submit\" className=\"btn btn-ghost-success\" >Save Changes</button>\r\n                  </div>\r\n                </CForm>\r\n          </CCardBody>\r\n        </CCard>\r\n      </CCol>\r\n    </CRow>\r\n  )\r\n}\r\n\r\nexport default UpdateContract;"],"sourceRoot":""}