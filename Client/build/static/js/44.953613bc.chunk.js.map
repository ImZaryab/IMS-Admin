{"version":3,"sources":["views/contracts/ContractItem.js"],"names":["ContractItem","match","history","useHistory","useState","contractsData","setContractsData","useEffect","Axios","get","then","response","data","contract_date","toString","split","item","find","contract_id","params","id","itemDetails","Object","entries","className","lg","map","index","key","value","type","onClick","push","ItemID","item_id","delete","goBack"],"mappings":"0PAyEeA,UAnEM,SAAC,GAAa,IAAZC,EAAW,EAAXA,MAEjBC,EAAUC,cAEd,EAA0CC,mBAAS,IAAnD,mBAAOC,EAAP,KAAsBC,EAAtB,KAEFC,qBAAU,WAKRC,IAAMC,IAAI,0CAA0CC,MAAK,SAACC,GACxDA,EAASC,KAAK,GAAGC,cAAgBF,EAASC,KAAK,GAAGC,cAAcC,WAAWC,MAAM,KAAK,GACtFT,EAAiBK,EAASC,YAI9B,IASQI,EAAOX,EAAcY,MAAM,SAAAD,GAAI,OAAIA,EAAKE,YAAYJ,aAAeb,EAAMkB,OAAOC,MAChFC,EAAcL,EAAOM,OAAOC,QAAQP,GACxC,CAAC,CAAC,KAAO,iCAAM,cAAC,IAAD,CAAOQ,UAAU,eAAvB,kBAMX,OACE,cAAC,KAAD,UACE,cAAC,IAAD,CAAMC,GAAI,EAAV,SACE,eAAC,IAAD,WACE,eAAC,IAAD,2BACgBxB,EAAMkB,OAAOC,MAE7B,eAAC,IAAD,WACI,uBAAOI,UAAU,kCAAjB,SACE,gCAEIH,EAAYK,KAAI,WAAeC,GAAW,IAAD,mBAAvBC,EAAuB,KAAlBC,EAAkB,KACvC,OACE,+BACE,uCAAQD,EAAR,OACA,6BAAI,iCAASC,QAFNF,EAAMb,mBASzB,sBAAKU,UAAU,gCAAf,UACA,wBAAQM,KAAK,SAASN,UAAU,wBAAwBO,QA3B1C,WACrBf,GAAMd,EAAQ8B,KAAR,qBAA2BhB,EAAKE,YAAhC,YAA+CF,EAAKE,eA0BnD,oBACA,wBAAQY,KAAK,SAASN,UAAU,uBAAuBO,QAAS,kBAzCxDE,EAyC2EjB,EAAKkB,QAAQpB,WAtC5GN,IAAM2B,OAAN,2CAAiDF,SAGjD/B,EAAQkC,SANW,IAACH,GAyCR","file":"static/js/44.953613bc.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport { CCard, CCardBody, CCardHeader, CCol, CRow } from '@coreui/react'\r\nimport CIcon from '@coreui/icons-react'\r\nimport Axios from 'axios'\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst ContractItem = ({match}) => {\r\n\r\n  let history = useHistory();\r\n\r\n  const [contractsData, setContractsData] = useState([]);\r\n\r\nuseEffect(() => {\r\n  // Axios.get(\"https://ims-backend.herokuapp.com/api/get\").then((response) => {\r\n  //   setInventoryData(response.data)\r\n  // })\r\n\r\n  Axios.get(\"http://localhost:3001/api/getcontracts\").then((response) => {\r\n    response.data[0].contract_date = response.data[0].contract_date.toString().split('T')[0]\r\n    setContractsData(response.data)\r\n  })\r\n})\r\n\r\nconst handleDelete = (ItemID) => {\r\n  // Axios.delete(`https://ims-backend.herokuapp.com/api/delete/${ItemID}`)\r\n\r\n  Axios.delete(`http://localhost:3001/api/delete/${ItemID}`)\r\n\r\n  //redirect to previous page\r\n  history.goBack();\r\n}\r\n\r\n  const item = contractsData.find( item => item.contract_id.toString() === match.params.id)\r\n  const itemDetails = item ? Object.entries(item) : \r\n    [['id', (<span><CIcon className=\"text-muted\" /> Not found</span>)]]\r\n\r\n  const handleUpdateRoute = () => {\r\n    if(item) history.push(`/contracts/${item.contract_id}/${item.contract_id}`)\r\n  }\r\n\r\n  return (\r\n    <CRow>\r\n      <CCol lg={6}>\r\n        <CCard>\r\n          <CCardHeader>\r\n            Contract ID: {match.params.id}\r\n          </CCardHeader>\r\n          <CCardBody>\r\n              <table className=\"table table-striped table-hover\">\r\n                <tbody>\r\n                  {\r\n                    itemDetails.map(([key, value], index) => {\r\n                      return (\r\n                        <tr key={index.toString()}>\r\n                          <td>{`${key}:`}</td>\r\n                          <td><strong>{value}</strong></td>\r\n                        </tr>\r\n                      )\r\n                    })\r\n                  }\r\n                </tbody>\r\n              </table>\r\n              <div className=\"d-flex justify-content-center\">\r\n              <button type=\"button\" className=\"btn btn-ghost-success\" onClick={handleUpdateRoute}>Update</button>\r\n              <button type=\"button\" className=\"btn btn-ghost-danger\" onClick={() => handleDelete(item.item_id.toString())}>Delete</button>\r\n              </div>\r\n          </CCardBody>\r\n        </CCard>\r\n      </CCol>\r\n    </CRow>\r\n  )\r\n}\r\n\r\nexport default ContractItem"],"sourceRoot":""}